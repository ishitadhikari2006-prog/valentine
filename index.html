<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Valentine Game</title>

<style>
*{margin:0;padding:0;box-sizing:border-box;}
body{font-family:Arial,sans-serif;background:#fff;overflow:hidden;}
.screen{position:absolute;inset:0;display:flex;flex-direction:column;align-items:center;justify-content:center}
.hidden{display:none!important}
#game{justify-content:flex-start}
#jerry{position:absolute;left:40px;bottom:80px;width:60px}
.obstacle{position:absolute;bottom:80px;width:20px;height:60px;background:#ff5fa2}
#ground{position:absolute;bottom:80px;width:100%;height:4px;background:#aaa}
button{padding:16px 36px;font-size:1.2rem;border-radius:14px;border:none}
</style>
</head>

<body>

<div id="start" class="screen">
<h2>Tap NO 14 times ðŸ˜¼</h2>
<button id="noBtn">NO</button>
</div>

<div id="game" class="screen hidden">
<img id="jerry" src="jerry.png">
<div id="ground"></div>
</div>

<script>
const start = document.getElementById("start");
const game = document.getElementById("game");
const jerry = document.getElementById("jerry");

let y = 0;
let vy = 0;
let playing = false;
let obstacles = [];

let gravity = -0.35;
let jumpPower = 12;

document.getElementById("noBtn").onclick = () => {
  start.classList.add("hidden");
  game.classList.remove("hidden");
  playing = true;
  loop();
};

function loop(){
  if(!playing) return;

  // APPLY VELOCITY FIRST
  y += vy;

  // APPLY GRAVITY
  vy += gravity;

  // GROUND COLLISION
  if(y <= 0){
    y = 0;
    vy = 0;
  }

  jerry.style.bottom = (80 + y) + "px";
  requestAnimationFrame(loop);
}

/* âœ… FIXED JUMP */
game.addEventListener("touchstart", jump);
game.addEventListener("mousedown", jump);

function jump(){
  if(!playing) return;
  if(y <= 0.5){          // ðŸ”¥ KEY FIX
    vy = jumpPower;
  }
}
</script>
</body>
</html>
