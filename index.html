<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Nandini üíñ Valentine</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
*{margin:0;padding:0;box-sizing:border-box}
body{
  background:radial-gradient(circle,#2b004f,#050014);
  color:white;
  font-family:Segoe UI,sans-serif;
  overflow:hidden;
  text-align:center;
}

/* ---------- SCREENS ---------- */
.screen{
  position:absolute;
  width:100%;
  height:100%;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
}
.hidden{display:none}

/* ---------- VALENTINE ---------- */
h1{font-size:2rem;margin-bottom:30px}
.buttons{display:flex;gap:20px}

button{
  padding:15px 30px;
  font-size:1.2rem;
  border:none;
  border-radius:12px;
  cursor:pointer;
}

#yes{background:#ff4da6}
#no{background:#555}

/* ---------- GAME ---------- */
#game{
  justify-content:flex-start;
}
#title{
  margin-top:10px;
  font-size:1.4rem;
}

#ground{
  position:absolute;
  bottom:40px;
  width:100%;
  height:4px;
  background:#999;
}

#jerry{
  position:absolute;
  bottom:40px;
  left:40px;
  width:60px;
}

.obstacle{
  position:absolute;
  bottom:40px;
  width:40px;
  height:60px;
  background:red;
}

/* ---------- END ---------- */
#end{
  font-size:1.5rem;
}
</style>
</head>

<body>

<!-- VALENTINE -->
<div id="valentine" class="screen">
  <h1>Nandini üíñ Will you be my Valentine?</h1>
  <div class="buttons">
    <button id="yes">YES üòç</button>
    <button id="no">NO üôÑ</button>
  </div>
</div>

<!-- GAME -->
<div id="game" class="screen hidden">
  <div id="title">RUN LITTLE MOUSE RUN üê≠</div>
  <img id="jerry" src="jerry.png">
  <div id="ground"></div>
</div>

<!-- END -->
<div id="end" class="screen hidden">
  <h1 id="endText"></h1>
  <button onclick="location.reload()">Restart</button>
</div>

<script>
/* ---------- VALENTINE LOGIC ---------- */
let noClicks=0;
const yes=document.getElementById("yes");
const no=document.getElementById("no");
const valentine=document.getElementById("valentine");
const game=document.getElementById("game");

no.onclick=()=>{
  noClicks++;
  no.style.transform=`scale(${1-noClicks*0.05})`;
  yes.style.transform=`scale(${1+noClicks*0.08})`;

  if(noClicks>=15){
    valentine.classList.add("hidden");
    game.classList.remove("hidden");
    startGame();
  }
};

/* ---------- GAME LOGIC ---------- */
const jerry=document.getElementById("jerry");
let y=0,vy=0,gravity=0.6;
let obstacles=[];
let passed=0;
let playing=true;

document.body.addEventListener("touchstart",jump);
document.body.addEventListener("click",jump);

function jump(){
  if(y===0)vy=12;
}

function startGame(){
  setInterval(spawnObstacle,1800);
  requestAnimationFrame(loop);
}

function spawnObstacle(){
  if(!playing)return;
  const o=document.createElement("div");
  o.className="obstacle";
  o.style.left="100%";
  game.appendChild(o);
  obstacles.push(o);
}

function loop(){
  if(!playing)return;

  vy-=gravity;
  y+=vy;
  if(y<0){y=0;vy=0}
  jerry.style.bottom=40+y+"px";

  obstacles.forEach((o,i)=>{
    let x=o.offsetLeft-5;
    o.style.left=x+"px";

    if(x<100 && x>40 && y<50){
      endGame(false);
    }

    if(x<-50){
      o.remove();
      obstacles.splice(i,1);
      passed++;
      if(passed===14)endGame(true);
    }
  });

  requestAnimationFrame(loop);
}

function endGame(win){
  playing=false;
  game.classList.add("hidden");
  document.getElementById("end").classList.remove("hidden");

  document.getElementById("endText").innerHTML=
    win
    ? "üí• Gojo used Hollow Purple üíú<br>You ARE my Valentine üòºüéâ"
    : "Jerry lost üò≠<br>Try again!";
}
</script>

</body>
</html>
