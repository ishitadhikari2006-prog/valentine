<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>RUN LITTLE MOUSE RUN ğŸ­</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
html,body{
  margin:0;
  padding:0;
  background:#020617;
  overflow:hidden;
  font-family: 'Segoe UI', sans-serif;
  color:white;
}
#title{
  position:absolute;
  top:12px;
  width:100%;
  text-align:center;
  font-size:22px;
  letter-spacing:2px;
}
#counter{
  position:absolute;
  top:45px;
  width:100%;
  text-align:center;
  font-size:14px;
  opacity:.8;
}
canvas{
  display:block;
}
#overlay{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.85);
  display:none;
  align-items:center;
  justify-content:center;
  flex-direction:column;
  text-align:center;
  padding:20px;
}
#overlay h1{
  font-size:22px;
  margin-bottom:15px;
}
button{
  padding:14px 26px;
  margin:8px;
  font-size:16px;
  border:none;
  border-radius:30px;
  cursor:pointer;
}
.yes{background:#ff5fa2;color:black;}
.no{background:#444;color:white;}
</style>
</head>
<body>

<div id="title">RUN LITTLE MOUSE RUN ğŸ­</div>
<div id="counter">Obstacles cleared: 0 / 14</div>
<canvas id="game"></canvas>

<div id="overlay">
  <h1 id="endText"></h1>
  <button class="yes" onclick="accept()">YES ğŸ’–</button>
  <button class="no" onclick="restart()">Restart Game ğŸ˜ˆ</button>
</div>

<script>
const c = document.getElementById("game");
const ctx = c.getContext("2d");
c.width = innerWidth;
c.height = innerHeight;

let ground = c.height - 120;
let mouse = { x:100, y:ground-40, vy:0, size:40 };
let obs = [];
let gravity = 1.2;
let jumpPower = -18;
let speed = 6;
let score = 0;
let dead = false;

function spawn(){
  obs.push({ x:c.width+40, w:40, h:40 });
}

addEventListener("touchstart",()=> {
  if(mouse.y >= ground-40) mouse.vy = jumpPower;
});
addEventListener("keydown",e=>{
  if(e.code==="Space" && mouse.y >= ground-40) mouse.vy = jumpPower;
});

function draw(){
  ctx.clearRect(0,0,c.width,c.height);

  // road
  ctx.fillStyle="#444";
  ctx.fillRect(0,ground,c.width,4);

  // mouse
  ctx.font="40px serif";
  ctx.fillText("ğŸ­", mouse.x, mouse.y+40);

  // obstacles
  ctx.fillStyle="#ff0055";
  obs.forEach(o=>{
    ctx.fillRect(o.x, ground-o.h, o.w, o.h);
  });
}

function update(){
  mouse.vy += gravity;
  mouse.y += mouse.vy;
  if(mouse.y > ground-40) mouse.y = ground-40;

  obs.forEach(o=>o.x -= speed);

  if(obs.length && obs[0].x < -50){
    obs.shift();
    score++;
    speed += 0.4;
    document.getElementById("counter").innerText =
      `Obstacles cleared: ${score} / 14`;
  }

  obs.forEach(o=>{
    if(
      mouse.x+30 > o.x &&
      mouse.x < o.x+o.w &&
      mouse.y+40 > ground-o.h
    ){
      kill();
    }
  });

  if(score === 14 && !dead){
    gojo();
  }
}

function loop(){
  if(!dead){
    draw();
    update();
    requestAnimationFrame(loop);
  }
}

function kill(){
  dead = true;
  ctx.fillStyle="rgba(160,0,255,.6)";
  ctx.fillRect(0,0,c.width,c.height);
  setTimeout(gojo,600);
}

function gojo(){
  dead = true;
  document.getElementById("overlay").style.display="flex";
  document.getElementById("endText").innerHTML =
   `ğŸ’¥ SATORU GOJO APPEARS ğŸ’¥<br><br>
    Hollow Purple obliterates the mouse.<br><br>
    So Nandiniâ€¦<br>
    Do you accept that your boyfriend is always right<br>
    and will you be his Valentine? ğŸ˜¼`;
}

function accept(){
  document.getElementById("endText").innerHTML =
   `ğŸ‰ğŸˆ CONGRATULATIONS NANDINI ğŸˆğŸ‰<br><br>
    You are officially appointed as<br>
    <b>Mr. Ishitâ€™s Valentine</b> ğŸ’–ğŸ˜¼`;
}

function restart(){
  location.reload();
}

setInterval(spawn,1600);
loop();
</script>
</body>
</html>
