<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Run Little Mouse Run üê≠</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
html,body{
  margin:0;
  padding:0;
  overflow:hidden;
  background:#12001f;
  font-family:Arial, sans-serif;
  color:white;
}

/* SCREENS */
.screen{
  position:fixed;
  inset:0;
  display:flex;
  align-items:center;
  justify-content:center;
  flex-direction:column;
  background:radial-gradient(circle,#2b0040,#000);
  z-index:10;
}

.hidden{display:none;}

h1{
  text-align:center;
  font-size:28px;
  margin-bottom:20px;
}

/* BUTTONS */
.btn{
  padding:14px 26px;
  margin:10px;
  font-size:20px;
  border:none;
  border-radius:12px;
  cursor:pointer;
}

#yesBtn{background:#ff4da6;color:white;}
#noBtn{background:#555;color:white;}

/* GAME */
#game{
  position:relative;
  width:100vw;
  height:100vh;
  overflow:hidden;
}

#ground{
  position:absolute;
  bottom:0;
  width:100%;
  height:80px;
  background:#222;
}

#jerry{
  position:absolute;
  bottom:80px;
  left:40px;
  width:70px;
}

.obstacle{
  position:absolute;
  bottom:80px;
  width:40px;
  height:60px;
  background:red;
}

#gojo{
  position:absolute;
  right:-200px;
  top:20%;
  width:180px;
}

#purple{
  position:absolute;
  width:120px;
  height:120px;
  border-radius:50%;
  background:radial-gradient(circle,#fff,#a020f0);
  box-shadow:0 0 40px #a020f0;
  display:none;
}
</style>
</head>

<body>

<!-- VALENTINE SCREEN -->
<div id="valentine" class="screen">
  <h1>Will you be my Valentine? üíñ</h1>
  <button id="yesBtn" class="btn">YES üòö</button>
  <button id="noBtn" class="btn">NO üò∂</button>
</div>

<!-- GAME -->
<div id="game" class="hidden">
  <h1 style="position:absolute;top:10px;width:100%;text-align:center;">
    RUN LITTLE MOUSE RUN üê≠
  </h1>

  <img id="jerry" src="jerry.png">
  <div id="ground"></div>
</div>

<!-- GAME OVER -->
<div id="gameOver" class="screen hidden">
  <h1>Game Over üíÄ</h1>
  <button class="btn" onclick="location.reload()">Restart</button>
</div>

<!-- WIN -->
<div id="win" class="screen hidden">
  <h1>You survived‚Ä¶</h1>
  <img id="gojo" src="gojo.png">
  <div id="purple"></div>
</div>

<script>
const valentine=document.getElementById("valentine");
const yes=document.getElementById("yesBtn");
const no=document.getElementById("noBtn");
const game=document.getElementById("game");
const jerry=document.getElementById("jerry");
const over=document.getElementById("gameOver");
const win=document.getElementById("win");
const purple=document.getElementById("purple");

let scale=1;
let y=80,vy=0;
let gravity=0.6;
let jumping=false;
let obstacles=[];
let passed=0;
let playing=false;

no.onclick=()=>{
  scale-=0.1;
  no.style.transform=`scale(${scale})`;
  yes.style.transform=`scale(${2-scale})`;
};

yes.onclick=()=>{
  valentine.classList.add("hidden");
  game.classList.remove("hidden");
  playing=true;
  spawnObstacle();
};

function jump(){
  if(!jumping){
    vy=12;
    jumping=true;
  }
}
document.addEventListener("touchstart",jump);
document.addEventListener("click",jump);

function spawnObstacle(){
  if(!playing)return;
  const obs=document.createElement("div");
  obs.className="obstacle";
  obs.style.right="-40px";
  game.appendChild(obs);
  obstacles.push(obs);
  setTimeout(spawnObstacle,1800);
}

function loop(){
  if(!playing)return;

  vy-=gravity;
  y+=vy;
  if(y<=80){y=80;jumping=false;}
  jerry.style.bottom=y+"px";

  obstacles.forEach((o,i)=>{
    o.style.right=(parseInt(o.style.right)+6)+"px";

    const j=jerry.getBoundingClientRect();
    const b=o.getBoundingClientRect();

    if(j.right>b.left && j.left<b.right && j.bottom>b.top){
      playing=false;
      game.classList.add("hidden");
      over.classList.remove("hidden");
    }

    if(parseInt(o.style.right)>window.innerWidth){
      o.remove();
      obstacles.splice(i,1);
      passed++;
      if(passed>=14){
        playing=false;
        game.classList.add("hidden");
        win.classList.remove("hidden");
        attack();
      }
    }
  });

  requestAnimationFrame(loop);
}
loop();

function attack(){
  purple.style.display="block";
  let x=window.innerWidth/2,y=window.innerHeight/2;
  let dx=-8;
  setInterval(()=>{
    x+=dx;
    purple.style.left=x+"px";
    purple.style.top=y+"px";
  },16);
}
</script>

</body>
</html>
